<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D-Tier APIs ‚Äì Part 2</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>D-Tier JavaScript APIs (Part 2)</h1>
    <p>Exploring highly experimental or specialized APIs.</p>
  </header>

  <main>
    <article>
      <h2>1. Ambient Light Sensor API</h2>
      <p>
        The <strong>AmbientLightSensor</strong> interface from the Sensor APIs provides
        live data on ambient light (lux). It‚Äôs <em>very experimental</em> and not widely supported.:contentReference[oaicite:0]{index=0}
      </p>
      <pre><code>
if ("AmbientLightSensor" in window) {
  try {
    const sensor = new AmbientLightSensor();
    sensor.addEventListener("reading", () =>
      console.log("Current light level:", sensor.illuminance)
    );
    sensor.addEventListener("error", (e) =>
      console.error("Sensor error:", e.error.name)
    );
    sensor.start();
  } catch (err) {
    console.error("Ambient Light Sensor not allowed:", err);
  }
} else {
  console.log("Ambient Light Sensor API not supported.");
}
      </code></pre>
      <p><em>Note:</em> Requires HTTPS and user permissions.:contentReference[oaicite:1]{index=1}</p>
    </article>

    <article>
      <h2>2. Proximity Sensor API</h2>
      <p>
        Allows detection of nearby objects to the device without physical contact. Very
        limited browser support and mostly deprecated.:contentReference[oaicite:2]{index=2}
      </p>
      <pre><code>
if ("ondeviceproximity" in window) {
  window.addEventListener("deviceproximity", (e) =>
    console.log("Proximity distance:", e.value)
  );
} else {
  console.log("Proximity API not supported.");
}
      </code></pre>
    </article>

    <article>
      <h2>3. Battery Status API (Legacy)</h2>
      <p>
        Provides battery level and charging status. Largely deprecated due to privacy risks, still supported in some legacy browsers.:contentReference[oaicite:3]{index=3}
      </p>
      <pre><code>
navigator.getBattery().then(batt => {
  function update() {
    console.log("Level:", batt.level * 100 + "%");
    console.log("Charging:", batt.charging);
  }
  update();
  batt.addEventListener("levelchange", update);
  batt.addEventListener("chargingchange", update);
});
      </code></pre>
      <p><em>Warning:</em> May be removed or blocked entirely. Avoid for modern development.:contentReference[oaicite:4]{index=4}</p>
    </article>

    <article>
      <h2>4. Network Information API</h2>
      <p>
        Offers details about the user‚Äôs connection type (e.g., "4g") and downlink speed in Mbps. Useful for adaptive loading.:contentReference[oaicite:5]{index=5}
      </p>
      <pre><code>
const conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
if (conn) {
  console.log("Connection type:", conn.effectiveType);
  console.log("Downlink speed:", conn.downlink, "Mbps");
} else {
  console.log("Network Information API not supported.");
}
      </code></pre>
    </article>

    <article>
      <h2>5. Media Session API</h2>
      <p>
        Enables enhanced media control via OS-level media keys (e.g., pause/play) and lock-screen metadata.:contentReference[oaicite:6]{index=6}
      </p>
      <pre><code>
const audio = new Audio("example.mp3");
audio.controls = true;
document.body.appendChild(audio);

if ("mediaSession" in navigator) {
  navigator.mediaSession.metadata = new MediaMetadata({
    title: "Song Title",
    artist: "Artist Name",
    album: "Album Name",
    artwork: [{ src: "cover.jpg", sizes: "96x96", type: "image/jpg" }]
  });
  navigator.mediaSession.setActionHandler("play", () => audio.play());
  navigator.mediaSession.setActionHandler("pause", () => audio.pause());
}
      </code></pre>
    </article>
  </main>

  <footer>
    <p>
      <a href="d-tier.html">‚¨Ö Back to D-Tier Part 1</a> | 
      <a href="index.html">üè† Home</a>
    </p>
  </footer>
</body>
</html>
